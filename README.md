# ุฑุจุงุช ูุฏุฑุช ุงุดุชุฑุงฺฉ ุชูฺฏุฑุงู

ฺฉ ุณุณุชู ูพุดุฑูุชู ูุฏุฑุช ุงุดุชุฑุงฺฉ ุชูฺฏุฑุงู ุจุง ูุงุจูุช ูพุฑุฏุงุฎุช ุฑูุฒุงุฑุฒ ู ูพูู ูุฏุฑุช ุฌุงูุน.

<div dir="rtl">

## ูฺฺฏโูุง

- ๐ค ุฑุจุงุช ุชูฺฏุฑุงู ุจุง ูุงุจูุช ูุฏุฑุช ุงุดุชุฑุงฺฉโูุง ูพุฑููู
- ๐ฐ ูพุดุชุจุงู ุงุฒ ูพุฑุฏุงุฎุช ุฑูุฒุงุฑุฒ ุงุฒ ุทุฑู NowPayments
- ๐จโ๐ผ ูพูู ูุฏุฑุช ฺูุฏ ุณุทุญ ุจุง ุงุจุฒุงุฑูุง ูุฏุฑุช ุฌุงูุน
- ๐ข ุณุณุชู ูุจููฺฉ ู ูุฏุฑุช ุงุทูุงุนโุฑุณุงู
- ๐ ูุฏุฑุช ุงูู ุชูุธูุงุช ู ุชูฺฉู ุฑุจุงุช
- ๐ฑ ุณุณุชู ุงุทูุงุนโุฑุณุงู ฺฉุงูุงู ุนููู ุจุฑุง ุงุนูุงูโูุง ุฎุฑุฏ
- โ๏ธ ูุฏุฑุช ูพุดุฑูุชู ุชูุธูุงุช ฺฉุงูุงูโูุง ุจุง ูพุดุชุจุงู ุงุฒ ID ฺฉุงูุงู ุนุฏุฏ ู ูุงู ฺฉุงุฑุจุฑ
- ๐ ฺฏุฑุฏุด ฺฉุงุฑ ุจูุจูุฏ ุงูุชู ุจุฑุฑุณ ู ูุฏุฑุช ุณูุงุฑุดโูุง
- ๐ API ุฎุงุฑุฌ ุจุฑุง ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ุณุณุชูโูุง ุฏฺฏุฑ

## ูุตุจ ุณุฑุน

ุจุฑุง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ุณุฑุน ุฑุจุงุชุ ฺฉุงูุณุช ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
chmod +x install.sh && ./install.sh
```

ุงู ุงุณฺฉุฑูพุช ุชูุงู ูพุดโูุงุฒูุง ุฑุง ูุตุจ ูโฺฉูุฏุ ุฏุชุงุจุณ ุฑุง ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏุ ู ุณุฑูุณ ูุฑุจูุทู ุฑุง ุงุฌุงุฏ ูโฺฉูุฏ.

## ูพุดโูุงุฒูุง

- Python 3.8+
- PostgreSQL
- ูพฺฉุฌโูุง ูพุงุชูู ููุฑุฏ ูุงุฒ (ุฏุฑ ูุงู requirements.txt)
- ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ [@BotFather](https://t.me/BotFather))
- ุญุณุงุจ NowPayments ุจุฑุง ูพุฐุฑุด ูพุฑุฏุงุฎุช ุฑูุฒุงุฑุฒ

## ูุตุจ ุฏุณุช

1. ฺฉููู ฺฉุฑุฏู ูุฎุฒู:
```bash
git clone https://github.com/your-username/telegram-subscription-bot.git
cd telegram-subscription-bot
```

2. ูุตุจ ูพุดโูุงุฒูุง:
```bash
pip install -r requirements.txt
```

3. ุงุฌุงุฏ ูุงู .env:
```bash
DATABASE_URL=postgresql://username:password@localhost/dbname
SESSION_SECRET=your-secret-key
NOWPAYMENTS_API_KEY=your-api-key
TELEGRAM_BOT_TOKEN=your-bot-token
```

4. ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ:
```bash
python migrate.py
```

5. ุงุฌุฑุง ุจุฑูุงูู:
```bash
gunicorn --bind 0.0.0.0:5000 main:app
```

6. ุงุฌุฑุง ุฑุจุงุช ุชูฺฏุฑุงู (ุฏุฑ ฺฉ ุชุฑููุงู ุฏฺฏุฑ):
```bash
python start_bot.py
```

## ุฑุงูโุงูุฏุงุฒ ุจุง Docker

1. ุณุงุฎุช ุงูุฌ:
```bash
docker build -t telegram-subscription-bot .
```

2. ุงุฌุฑุง:
```bash
docker run -d -p 5000:5000 --env-file .env --name telegram-bot telegram-subscription-bot
```

## ุณุงุฎุชุงุฑ ุจุฑูุงูู

- `app.py`: ุชูุธูุงุช ุงุตู ุจุฑูุงูู Flask ู ุฏุชุงุจุณ
- `main.py`: ููุทู ูุฑูุฏ ุงุตู ุจุฑูุงูู
- `models.py`: ุชุนุฑู ูุฏูโูุง ุฏุชุงุจุณ
- `run_telegram_bot.py`: ููุทู ุงุตู ุฑุจุงุช ุชูฺฏุฑุงู
- `api.py`: API ุฎุงุฑุฌ ุจุฑุง ฺฉูพุงุฑฺูโุณุงุฒ
- `nowpayments.py`: ฺฉูุงูุช API ุจุฑุง NowPayments
- `config_manager.py`: ูุฏุฑุช ุชูุธูุงุช ุจุฑูุงูู
- `start_bot.py`: ุงุณฺฉุฑูพุช ูุณุชูู ุจุฑุง ุงุฌุฑุง ุฑุจุงุช ุฏุฑ ุญุงูุช polling

## ูพูู ูุฏุฑุช

ูพูู ูุฏุฑุช ุฏุฑ ุขุฏุฑุณ `/admin` ูุงุจู ุฏุณุชุฑุณ ุงุณุช. ุฏุณุชุฑุณ ูพุดโูุฑุถ:
- ูุงู ฺฉุงุฑุจุฑ: admin
- ุฑูุฒ ุนุจูุฑ: admin

## API ุฎุงุฑุฌ

ูุณุชูุฏุงุช API ุฏุฑ ุขุฏุฑุณ `/api/docs` ูุงุจู ุฏุณุชุฑุณ ุงุณุช. API ุงูฺฉุงู ุงุฌุงุฏ ุณูุงุฑุดโูุง ุงุดุชุฑุงฺฉุ ุจุฑุฑุณ ูุถุนุช ู ูุณุช ุณูุงุฑุดโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ูุซุงูโูุง ุฏุฑ ูพูุดู `/static/examples/` ูุงุจู ุฏุณุชุฑุณ ูุณุชูุฏ.

</div>

## ูฺฏูุฏุงุฑ

### ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ
```bash
sudo systemctl status telegrambot
```

### ูุดุงูุฏู ูุงฺฏโูุง
```bash
sudo journalctl -u telegrambot -f
```

### ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ
```bash
sudo systemctl restart telegrambot
```

## ุงููุช

- ููุดู ฺฉูุฏโูุง API ู ุชูฺฉูโูุง ุฑุง ุฏุฑ ูุงู `.env` ุฐุฎุฑู ฺฉูุฏ
- ุฑูุฒ ุนุจูุฑ ุงุฏูู ูพุดโูุฑุถ ุฑุง ุชุบุฑ ุฏูุฏ
- ุจู ุฑุจุงุช ุชูฺฏุฑุงู ุฏุณุชุฑุณ ูุฏุฑ ุฏุฑ ฺฉุงูุงูโูุง ููุฑุฏ ูุธุฑ ุจุฏูุฏ
- ุชูุธูุงุช ูุงุฑูุงู ุฑุง ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ ุจู ูพูุฑุชโูุง ุงูุฌุงู ุฏูุฏ

## ูพุดุชุจุงู

ุจุฑุง ูพุดุชุจุงูุ ูุทูุงู ฺฉ issue ุฏุฑ ฺฏุชโูุงุจ ุงุฌุงุฏ ฺฉูุฏ ุง ุจุง ุงูู ุฏุฑ ุชูุงุณ ุจุงุดุฏ.

---

ุจุง ุงูุชุฎุงุฑ ุชูุณุนู ุฏุงุฏู ุดุฏู ุจุฑุง ูุฏุฑุช ุงุดุชุฑุงฺฉโูุง ูพุฑููู ุชูฺฏุฑุงู ๐